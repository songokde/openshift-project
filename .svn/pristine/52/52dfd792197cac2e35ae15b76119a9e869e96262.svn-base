$(function(){
	
	
});

//查看赋值
function view(){
	$.getJSON("config/info", function(data) {
		domainId: $("#domainSelect").val(data.domainId);
		if(data.webStatus=='Y'){
			$("#webCheck").attr("checked",true)
		}
		if(data.ccStatus=='Y'){
			$("#ccCheck").attr("checked",true)
			$("#ccRuleIds").val(data.ccRuleIds)
			$("#ccRuleNames").text(data.ccRuleNames)
		}
		if(data.exactStatus=='Y'){
			$("#exactCheck").attr("checked",true)
			$("#exactRuleIds").val(data.exactRuleIds)
			$("#exactRuleNames").text(data.exactRuleNames)
		}
		if(data.ipStatus=='Y'){
			$("#ipCheck").attr("checked",true)
			 $("#ipSegment").val(data.ipSegment)
		}
	});
}


//保存or更新
function saveDomainConfig() {
	var web;
	var cc;
	var exact;
	var ip;
	if ($("#webCheck").is(":checked")== true) {
		web ="Y";
	} else {
		web ="N";
	}
	if ($("#ccCheck").is(":checked")== true) {
		cc ="Y";
	} else {
		cc ="N";
	} 
	if ($("#exactCheck").is(":checked")== true) {
		exact ="Y";
	} else {
		exact ="N";
	} 
	if ($("#ipCheck").is(":checked")== true) {
		ip ="Y";
	} else {
		ip ="N";
	} 
	var postData ={
		domainId: $("#domainSelect").val(),             
		domainName: $("#domainSelect").find("option:selected").text(),  
		webStatus : web,          
		ccStatus : cc,              
		ccRuleIds :  $("#ccRuleIds").val(),               
		exactStatus : exact,           
		exactRuleIds : $("#exactRuleIds").val(),                
		ipStatus : ip,              
		ipSegment : $("#ipSegment").val(),                 
	};
	$.post("config/up",postData, function(data) {
		
	});
	
	
}

function turnToCc(){
	$("#ccRuleModal").modal("show");
}
function turnToConfig(){
	$("#exactRuleModal").modal("show");
}